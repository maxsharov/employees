(this.webpackJsonpemployees=this.webpackJsonpemployees||[]).push([[0],{40:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c(0),s=c(6),a=c.n(s),o=c(5),l=c(3),i=c(21),u=(c(40),c(22)),d=c(23),p=c(28),j=c(26),b=function(e){var t,c=Object(l.c)((function(e){return e.selectedEmployees}));return t=e.employees?e.employees.map((function(t){return Object(n.jsxs)("div",{children:[t.lastName," ",t.firstName," ",Object(n.jsx)("input",{type:"checkbox",onChange:e.toggleChange,checked:c.includes(t.id),id:t.id})]},t.id)})):"-----",Object(n.jsxs)("div",{className:"Letter",children:[Object(n.jsx)("h3",{children:e.letter}),t]})},m=c(11),h=c.n(m),O=c(24),y=c(25),f=c.n(y),E=function(){try{var e=localStorage.getItem("selectedEmployees");if(null===e)return;return JSON.parse(e)}catch(t){return void console.error(t)}},v=function(e){try{var t=JSON.stringify(e);localStorage.setItem("selectedEmployees",t)}catch(c){console.error(c)}},x="SELECT_EMPLOYEE",g="UNSELECT_EMPLOYEE",N="GET_EMPLOYEES",S=function(e){return{type:N,employees:e}};var _=function(){var e=Object(l.c)((function(e){return e.alphabet})),t=Object(l.c)((function(e){return e.employeesFetched})),c=Object(l.b)();function s(e){e.target.checked?c(function(e){var t=E();if(t.includes(e)){var c=t.concat(e);v(c)}return{type:x,id:e}}(e.target.id)):c(function(e){var t=E();return t.includes(e)&&(t.splice(e,1),v(t)),{type:g,id:e}}(e.target.id))}if(Object(r.useEffect)((function(){c(function(){var e=Object(O.a)(h.a.mark((function e(t){var c,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 3:c=e.sent,n=c.data.sort((function(e,t){return e.lastName<t.lastName?-1:1})),t(S(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[c]),!t)return Object(n.jsx)("div",{});var a=[];if(t){var o=t.reduce((function(e,t){var c=t.lastName[0];return e[c]||(e[c]=[]),e[c].push(t),e}),{});a=e.map((function(e){return Object(n.jsx)(b,{letter:e,toggleChange:s,employees:o[e]?o[e]:null},e)}))}return Object(n.jsxs)("div",{className:"employees-list",children:[Object(n.jsx)("h2",{children:"Employees "}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"Letters",children:a})]})},k=c(4),L=function(){var e=Object(l.c)((function(e){return e.months})),t=Object(l.c)((function(e){return e.selectedEmployees})),c=Object(l.c)((function(e){return e.employeesFetched})),r=[];if(t.length&&c){var s=c.filter((function(e){return t.includes(e.id)})).map((function(t){var c=new Date(t.dob),n=c.getDate()+" "+e[c.getMonth()]+", "+c.getFullYear();return Object(k.a)(Object(k.a)({},t),{},{month:c.getMonth(),birthday:n})})).sort((function(e,t){return e.dob<t.dob?-1:1})).reduce((function(e,t){var c=t.month;return e[c]||(e[c]=[]),e[c].push(t),e}),{});r=e.map((function(t,c){return s[c]?Object(n.jsxs)("div",{className:"month",children:[Object(n.jsx)("h3",{children:e[c]}),Object(n.jsx)("ul",{children:s[c].map((function(e){return Object(n.jsxs)("li",{children:[e.lastName," ",e.firstName," - ",e.birthday," ","year"]},e.id)}))})]},t):null}))}return Object(n.jsxs)("div",{className:"employees-birthdays",children:[Object(n.jsx)("h2",{children:"Employees birthday "}),Object(n.jsx)("hr",{}),r.length?Object(n.jsx)("div",{className:"months",children:r}):Object(n.jsx)("p",{children:"No selected employees"})]})},M=(c(59),function(e){Object(p.a)(c,e);var t=Object(j.a)(c);function c(){return Object(u.a)(this,c),t.apply(this,arguments)}return Object(d.a)(c,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(_,{}),Object(n.jsx)(L,{})]})}}]),c}(r.Component)),w=c(27),C=function(e,t){switch(t.type){case x:if(console.log("state - ",e),e.selectedEmployees.includes(t.id))return e;console.log("state.selectedEmployees",e.selectedEmployees);var c=e.selectedEmployees.concat(t.id);return console.log("action.id",t.id),console.log("updatedEmployees",c),Object(k.a)(Object(k.a)({},e),{},{selectedEmployees:c});case g:if(e.selectedEmployees.includes(t.id)){var n=e.selectedEmployees.indexOf(t.id),r=Object(w.a)(e.selectedEmployees);return r.splice(n,1),Object(k.a)(Object(k.a)({},e),{},{selectedEmployees:r})}return e;case N:return Object(k.a)(Object(k.a)({},e),{},{employeesFetched:t.employees});default:return e}},J={alphabet:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],selectedEmployees:E(),employeesFetched:[]},F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,D=Object(o.d)(C,J,F(Object(o.a)(i.a)));a.a.render(Object(n.jsx)(l.a,{store:D,children:Object(n.jsx)(M,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.00cbb51b.chunk.js.map